================================================================================
SENTIENT ENGINE - DOCKER ENVIRONMENT SETUP COMPLETE
================================================================================

Your Docker environment has been created successfully!

WHAT WAS CREATED:
-----------------
‚úì Complete docker-compose.yml for production
‚úì Development docker-compose override (docker-compose.dev.yml)
‚úì Dockerfiles for all Node.js services (production + development)
‚úì Mosquitto MQTT broker configuration
‚úì Nginx reverse proxy with SSL support
‚úì PostgreSQL initialization scripts
‚úì Prometheus monitoring configuration
‚úì Grafana dashboard provisioning
‚úì Loki + Promtail logging stack
‚úì Deployment and maintenance scripts
‚úì Comprehensive documentation

DIRECTORY STRUCTURE:
-------------------
/opt/sentient/
‚îú‚îÄ‚îÄ docker-compose.yml          # Production configuration
‚îú‚îÄ‚îÄ docker-compose.dev.yml      # Development overrides
‚îú‚îÄ‚îÄ .env.production             # Production secrets (CONFIGURE THIS!)
‚îú‚îÄ‚îÄ .env.development            # Development defaults
‚îú‚îÄ‚îÄ DOCKER_DEPLOYMENT.md        # Complete deployment guide
‚îú‚îÄ‚îÄ README.md                   # Quick reference
‚îú‚îÄ‚îÄ config/                     # Service configurations
‚îú‚îÄ‚îÄ docker/                     # Dockerfiles
‚îú‚îÄ‚îÄ scripts/                    # Utility scripts
‚îî‚îÄ‚îÄ volumes/                    # Persistent data

# NEXT STEPS - SENTIENT ENGINE (LOCAL DEV)

This document is a **local-only quickstart** for getting from a fresh clone to a running dev stack on your Mac.

There is no separate production environment or dual-environment support described here.

## 1. Clone the Repository

```bash
git clone git@github.com:your-org/sentient.git
cd sentient
```

## 2. Install Local Prerequisites

- macOS
- Docker Desktop
- Node.js (via `nvm` recommended)

## 3. Start the Local Dev Stack

From the repo root:

```bash
# Start all services
npm run dev

# View logs for all services
npm run dev:logs
```

This uses the root `docker-compose.yml` and the scripts under `scripts/` to start:

- API (`sentient-api`)
- Executor Engine (`executor-engine`)
- Device Monitor (`device-monitor`)
- Web Frontend (`sentient-web`)
- PostgreSQL (`sentient-postgres`)
- Mosquitto (`sentient-mosquitto`)
- Prometheus (`prometheus`)
- Grafana (`grafana`)
- Loki (`loki`)
- Promtail (`promtail`)

## 4. Access the UI and Tools

- Web UI: http://localhost:3002
- API Health: http://localhost:3000/health
- Executor Health: http://localhost:3004/health
- Device Monitor Health: http://localhost:3003/health
- Grafana: http://localhost:3200
- Prometheus: http://localhost:9090

## 5. Database & Migrations

The local database is `sentient_dev` running inside the `sentient-postgres` container.

Common operations:

```bash
# Run migrations
npm run db:migrate

# Seed development data
npm run db:seed

# Reset dev DB (drop, recreate, migrate, seed)
npm run db:reset
```

## 6. Summary

For day-to-day work, you only need to remember:

- Use `npm run dev` to bring everything up
- Use `npm run dev:logs` to watch logs
- Use the `db:*` scripts to manage the local database
- Treat this repo as a **local-only** environment unless you explicitly design a new deployment elsewhere

COMMON COMMANDS:
---------------

# View logs
./scripts/logs.sh sentient-api-1

# Health check
sudo ./scripts/health-check.sh

# Backup database
sudo ./scripts/backup-database.sh

# Restore database
sudo ./scripts/restore-database.sh backups/sentient_db_*.sql.gz

# Stop services
docker-compose down

# Restart service
docker-compose restart sentient-api-1

DOCUMENTATION:
--------------

üìñ DOCKER_DEPLOYMENT.md - Complete deployment guide (READ THIS FIRST!)
üìñ README.md - Quick reference and common commands
üìñ docs/SYSTEM_ARCHITECTURE.md - System architecture
üìñ docs/CLAUDE.md - Development guidelines
üìñ config/nginx/ssl/README.md - SSL certificate setup
üìñ config/mosquitto/README.md - MQTT configuration
üìñ config/postgres/init/README.md - Database initialization

IMPORTANT SECURITY NOTES:
-------------------------

‚ö†Ô∏è  Change ALL default passwords in .env.production
‚ö†Ô∏è  Use strong passwords (12+ characters, mixed case, numbers, symbols)
‚ö†Ô∏è  Never commit .env.production to version control
‚ö†Ô∏è  Set up SSL certificates for production (not self-signed)
‚ö†Ô∏è  Enable UFW firewall (ports 22, 80, 443 only)
‚ö†Ô∏è  Keep Docker images updated
‚ö†Ô∏è  Regular database backups

SUPPORT:
--------

If you encounter issues:
1. Check DOCKER_DEPLOYMENT.md troubleshooting section
2. Run: sudo ./scripts/health-check.sh
3. Check logs: docker-compose logs [service_name]
4. Verify configuration files

SYSTEM REQUIREMENTS:
-------------------

Production:
- Ubuntu 24.04 LTS (recommended)
- 4+ CPU cores
- 8+ GB RAM
- 50+ GB disk space

Development:
- Any OS with Docker
- 2+ CPU cores
- 4+ GB RAM
- 20+ GB disk space

================================================================================
Ready to deploy! Start with step 1 above.
================================================================================
